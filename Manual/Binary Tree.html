<!DOCTYPE html>
<html class="no-js">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Binary Tree â€” Keep Talking and Nobody Explodes Module</title>
    <meta name="viewport" content="initial-scale=1"> 
	<link href='https://fonts.googleapis.com/css?family=Special+Elite' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
	<script src="ruleseed.js"></script>
    <script>
        var rules = [];

        function setRules(rnd)
        {
			var letterAddNum = rnd.nextMax(7);
			var numRule = document.getElementsByClassName('numrule');
			numRule[0].innerHTML = "<strong><u>position of that character in the alphabet + " + letterAddNum + "</u></strong>";
            var candidates = [ "Preorder", "Inorder", "Postorder", "Level Order", "Right-to-Left Preorder", "Right-to-Left Inorder", "Right-to-Left Postorder", "Right-to-Left Level Order" ];
            var lookupTable = [rnd.shuffleArray(candidates), rnd.shuffleArray(candidates), rnd.shuffleArray(candidates)];
			var rows = document.getElementsByClassName('rule-row');
            for (var i = 0; i < 8; i++)
            {
                var tds = rows[i].getElementsByClassName('rule');
                for (var j = 0; j < tds.length; j++)
                    tds[j].innerText = lookupTable[j][i];
            }
        }

        function setDefaultRules()
        {
            var list = document.getElementsByClassName('rule');
            for (var i = 0; i < list.length; i++)
                list[i].innerText = list[i].getAttribute('data-original');
			var numRule = document.getElementsByClassName('numrule');
			numRule[0].innerHTML = "position of that character in the alphabet + 2";
        }
    </script>

</head>
<body>
<div class="section">
    <div class="page page-bg-01">
        <div class="page-header">
			<span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
			<span class="page-header-section-title">Binary Tree</span>
		</div>
        <div class="page-content">
    	    <img src="img/Component.svg" class="diagram">
            <h2>On the Subject of the Binary Tree</h2>
            <p class="flavour-text">
					Contrary to normal trees, binary trees grow downward and are endlessly confusing with their different traversal orderings...
			</p>
			<p class="appendix-reference"> See Appendix BT for a glossary of terms and orderings relating to binary trees. </p>
			<ul>
				<li>The module contains a screen and a depth-three complete binary tree, containing seven nodes that are buttons which could be pressed.
					Each node may be differently colored, and each has a single black or silver character printed on it.
					<strong>The letter 'O' does not appear on this module, but the number zero may appear.</strong></li>
				<li>The module contains three stages. In each stage, determine which node to press using a reference node.
					For the first stage, use the root of the tree as the reference node.
					For each subsequent stage, use the correct node pressed in the previous stage as the reference node.</li>
				<li>To find which node to press, first turn the character printed on the reference node into a number.
					If it is a numeric character, use that number, otherwise use the <span class="numrule">position of that character in the alphabet + 2</span>.</li>
				<li>If the resulting number is greater than 7, subtract 7 repeatedly until it is within the range 1~7. If the number is 0, use 7.
					Call this number <strong>N</strong>.</li>
				<li>Use the table on the next page to determine an ordering of the nodes from the current stage number and the color of the reference node.</li>
				<li>Press the node that is the <strong>N</strong>th node from the start of the ordering, 
					<strong>UNLESS</strong> the text on the reference node is silver, in that case press the <strong>N</strong>th node counting in reverse from the end of the ordering instead.</li>
				<li>The screen displays previously pressed correct nodes, and is not required to solve the module.</li>
				<li>Pressing a wrong node will result in a strike, but the module will stay on its current stage.
					The module will also display the cross-shaped strike indicator for a while, during which all inputs are ignored.</li>
			</ul>
        </div>
		<div class="page-footer relative-footer">Page 1 of 3</div>
    </div>
	
    <div class="page page-bg-02">
        <div class="page-header">
            <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
            <span class="page-header-section-title">Binary Tree</span>
        </div>
        <div class="page-content">
		<h3>Node Orderings Table</h3>
			<table>
				<tr>
					<th colspan="2">Stage&nbsp;#:</th>
					<th>Stage&nbsp;1</th>
					<th>Stage&nbsp;2</th>
					<th>Stage&nbsp;3</th>
				</tr>
				<tr class="rule-row">
					<th rowspan="8">Ref Node Color:</th>
					<th>Red</th>
					<td class="rule" data-original="Preorder">Preorder</td>
					<td class="rule" data-original="Right-to-Left Inorder">Right-to-Left<br>Inorder</td>
					<td class="rule" data-original="Right-to-Left Level Order">Right-to-Left<br>Level Order</td>
				</tr>
				<tr class="rule-row">
					<th>Green</th>
					<td class="rule" data-original="Inorder">Inorder</td>
					<td class="rule" data-original="Right-to-Left Postorder">Right-to-Left<br>Postorder</td>
					<td class="rule" data-original="Inorder">Inorder</td>
				</tr>
				<tr class="rule-row">
					<th>Blue</th>
					<td class="rule" data-original="Postorder">Postorder</td>
					<td class="rule" data-original="Right-to-Left Preorder">Right-to-Left<br>Preorder</td>
					<td class="rule" data-original="Right-to-Left Inorder">Right-to-Left<br>Inorder</td>
				</tr>
				<tr class="rule-row">
					<th>Orange</th>
					<td class="rule" data-original="Level Order">Level Order</td>
					<td class="rule" data-original="Level Order">Level Order</td>
					<td class="rule" data-original="Preorder">Preorder</td>
				</tr>
				<tr class="rule-row">
					<th>Cyan</th>
					<td class="rule" data-original="Right-to-Left Preorder">Right-to-Left<br>Preorder</td>
					<td class="rule" data-original="Preorder">Preorder</td>
					<td class="rule" data-original="Level Order">Level Order</td>
				</tr>
				<tr class="rule-row">
					<th>Magenta</th>
					<td class="rule" data-original="Right-to-Left Inorder">Right-to-Left<br>Inorder</td>
					<td class="rule" data-original="Inorder">Inorder</td>
					<td class="rule" data-original="Right-to-Left Postorder">Right-to-Left<br>Postorder</td>
				</tr>
				<tr class="rule-row">
					<th>Yellow</th>
					<td class="rule" data-original="Right-to-Left Postorder">Right-to-Left<br>Postorder</td>
					<td class="rule" data-original="Right-to-Left Level Order">Right-to-Left<br>Level Order</td>
					<td class="rule" data-original="Postorder">Postorder</td>
				</tr>
				<tr class="rule-row">
					<th>Gray</th>
					<td class="rule" data-original="Right-to-Left Level Order">Right-to-Left<br>Level Order</td>
					<td class="rule" data-original="Postorder">Postorder</td>
					<td class="rule" data-original="Right-to-Left Preorder">Right-to-Left<br>Preorder</td>
				</tr>
			</table>
        </div>
        <div class="page-footer relative-footer">Page 2 of 3</div>
    </div>
    <div class="page page-bg-03">
        <div class="page-header">
            <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
            <span class="page-header-section-title">Binary Tree</span>
        </div>
        <div class="page-content">
			<h2>Appendix BT: Binary Tree Terms &amp; Orderings</h2>
			<h3>Terms:</h3>
			<ul>
				<li>A <strong>complete binary tree</strong> is a structure in which each node, except for the nodes at the bottom layer,
				is directly connected to two other nodes under it, called its <strong>children</strong>.</li>
				<li>The <strong>root</strong> of the tree is the node at the top layer of the tree.</li>
				<li>The <strong>left subtree</strong> of a node is the tree containing the node's left child, and all of the child's children.
					The <strong>right subtree</strong> of a node is the tree containing the node's right child, and all of the child's children.</li>
				<li>An <strong>ordering</strong> of the tree visits each node in the tree exactly once in a certain order.</li>
			</ul>
			<h3>Orderings:</h3>
			<ul>
				<li><strong>Preorder:</strong> Starting at the root, first visit the root, then visit all nodes in its left subtree in preorder, then visit all nodes in its right subtree in preorder.</li>
				<li><strong>Inorder:</strong> Starting at the root, first visit all nodes in its left subtree using inorder, then visit the root, then visit all nodes in its right subtree using inorder.</li>
				<li><strong>Postorder:</strong> Starting at the root, first visit all nodes in its left subtree in postorder, then visit all nodes in its right subtree in postorder, then visit the root.</li>
				<li><strong>Level Order:</strong> Like reading order. Start at the top row, then read all nodes from left to right on each row.</li>
				<li>For the <strong>Right-to-Left</strong> version of an ordering given above, read the corresponding description above,
					but swap all occurrences of the word "left" and "right".</li>
			</ul>
        </div>
        <div class="page-footer relative-footer">Page 3 of 3</div>
    </div>
</div>
</body></html>
